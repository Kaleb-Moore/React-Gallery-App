(this["webpackJsonpreact-gallery-app"]=this["webpackJsonpreact-gallery-app"]||[]).push([[0],{60:function(e,t,r){},61:function(e,t,r){"use strict";r.r(t);var c=r(1),n=r(29),a=r.n(n),s=r(17),o=r(10),i=r(11),h=r(13),j=r(12),l=r(8),u=r(2),b=r(30),d=r.n(b),p=r(0),f=function(e){Object(h.a)(r,e);var t=Object(j.a)(r);function r(){var e;Object(o.a)(this,r);for(var c=arguments.length,n=new Array(c),a=0;a<c;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))).state={searchtext:""},e.onSearchChange=function(t){e.setState({searchtext:t.target.value})},e.handleSearchSubmit=function(t){t.preventDefault(),e.props.onSearch(e.state.searchtext,!0);var r="/search/".concat(e.state.searchtext);e.props.history.push(r),t.target.reset()},e}return Object(i.a)(r,[{key:"render",value:function(){return Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("form",{className:"search-form",onSubmit:this.handleSearchSubmit,children:[Object(p.jsx)("input",{onChange:this.onSearchChange,type:"search",name:"search",placeholder:"Search",required:!0}),Object(p.jsx)("button",{type:"submit",className:"search-button",children:Object(p.jsxs)("svg",{fill:"#fff",height:"24",viewBox:"0 0 23 23",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[Object(p.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),Object(p.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"})]})})]})})}}]),r}(c.Component),O=Object(u.g)(f),x=function(){return Object(p.jsx)("nav",{className:"main-nav",children:Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{children:Object(p.jsx)(l.b,{to:"/moon",children:"Moon"})}),Object(p.jsx)("li",{children:Object(p.jsx)(l.b,{to:"/forest",children:"Forest"})}),Object(p.jsx)("li",{children:Object(p.jsx)(l.b,{to:"/bridge",children:"Bridge"})})]})})},m=function(e){return Object(p.jsx)("li",{children:Object(p.jsx)("img",{src:"https://live.staticflickr.com/".concat(e.server,"/").concat(e.id,"_").concat(e.secret,"_w.jpg"),alt:""})})},g=function(e){return Object(p.jsxs)("li",{className:"not-found",children:[Object(p.jsx)("h3",{children:"No Results Found"}),Object(p.jsx)("p",{children:"You search did not return any results. Please try again."})]})},v=function(e){Object(h.a)(r,e);var t=Object(j.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"componentDidMount",value:function(){this.props.query&&this.props.query!==this.props.searchValue&&this.props.fetchData(this.props.query,!0)}},{key:"render",value:function(){var e=this.props.data,t=e.map((function(e){return Object(p.jsx)(m,{server:e.server,secret:e.secret,id:e.id,title:e.title},e.id)}));return 0===e.length?Object(p.jsx)(g,{}):Object(p.jsxs)("div",{className:"photo-container",children:[Object(p.jsx)("h2",{children:this.props.category?"Results for: ".concat(this.props.category):"Results for: ".concat(this.props.query)}),Object(p.jsx)("ul",{children:t})]})}}]),r}(c.Component),y=function(e){return Object(p.jsxs)("li",{className:"not-found",children:[Object(p.jsx)("h3",{children:"404 - Page Not Found"}),Object(p.jsx)("p",{children:"The URL you've selected does not exist! Please use the search to find more pictures or click the buttons above. Thank you!"})]})},S=function(e){Object(h.a)(r,e);var t=Object(j.a)(r);function r(){var e;return Object(o.a)(this,r),(e=t.call(this)).performSearch=function(t,r){e.setState({loading:!0});d.a.get("https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=".concat("51e66916ccb67c27136e80d2e4a6b29b","&tags=").concat(t,"&per_page=24&format=json&nojsoncallback=1")).then((function(c){var n;r?e.setState({photos:c.data.photos.photo,searchInput:t,loading:!1}):e.setState((n={},Object(s.a)(n,t,c.data.photos.photo),Object(s.a)(n,"loading",!1),n))})).catch((function(e){console.error("Error fetching and parsing data",e)}))},e.state={photos:[],moon:[],forest:[],bridge:[],searchInput:"",loading:!0},e}return Object(i.a)(r,[{key:"componentDidMount",value:function(){var e=this;["moon","forest","bridge"].map((function(t){return e.performSearch(t,!1)}))}},{key:"render",value:function(){var e=this;return Object(p.jsx)(l.a,{children:Object(p.jsxs)("div",{className:"container wrapper",children:[Object(p.jsx)(O,{onSearch:this.performSearch}),Object(p.jsx)(x,{}),this.state.moon.length*this.state.forest.length*this.state.bridge.length===0||this.state.loading?Object(p.jsx)("h1",{children:"Loading..."}):Object(p.jsxs)(u.d,{children:[Object(p.jsx)(u.b,{exact:!0,path:"/",render:function(){return Object(p.jsx)(u.a,{to:"/moon"})}}),Object(p.jsx)(u.b,{path:"/moon",render:function(){return Object(p.jsx)(v,{category:"moon",data:e.state.moon})}}),Object(p.jsx)(u.b,{path:"/forest",render:function(){return Object(p.jsx)(v,{category:"forest",data:e.state.forest})}}),Object(p.jsx)(u.b,{path:"/bridge",render:function(){return Object(p.jsx)(v,{category:"bridge",data:e.state.bridge})}}),Object(p.jsx)(u.b,{path:"/search/:query",render:function(t){var r=t.match;return Object(p.jsx)(v,{query:r.params.query,data:e.state.photos,searchValue:e.state.searchInput,fetchData:e.performSearch,category:""})}}),Object(p.jsx)(u.b,{component:y})]})]})})}}]),r}(c.Component);r(60);a.a.render(Object(p.jsx)(S,{}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.56132bbd.chunk.js.map