{"version":3,"sources":["components/SearchForm.js","components/Nav.js","components/Photo.js","components/NoMatches.js","components/PhotoContainer.js","components/Error404.js","App.js","config.js","index.js"],"names":["SearchForm","state","searchtext","onSearchChange","e","setState","target","value","handleSearchSubmit","preventDefault","props","onSearch","path","history","push","reset","className","onSubmit","this","onChange","type","name","placeholder","required","fill","height","viewBox","width","xmlns","d","Component","withRouter","Nav","to","Photo","src","server","id","secret","alt","NoMatches","PhotoContainer","query","searchValue","fetchData","results","data","photos","map","photo","title","length","category","Error404","App","performSearch","isNewData","loading","axios","get","then","response","searchInput","catch","error","console","moon","forest","bridge","link","exact","render","match","params","component","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.56132bbd.chunk.js","sourcesContent":["import React, { Component } from \"react\"\r\nimport { withRouter } from \"react-router-dom\"\r\n\r\nclass SearchForm extends Component {\r\n  state = {\r\n    searchtext: \"\",\r\n  }\r\n  // Search input saved to state\r\n  onSearchChange = (e) => {\r\n    this.setState({\r\n      searchtext: e.target.value,\r\n    })\r\n  }\r\n\r\n  // Form submission handler: use state to fetch data from flickr API, and update URL\r\n  handleSearchSubmit = (e) => {\r\n    e.preventDefault()\r\n    this.props.onSearch(this.state.searchtext, true)\r\n    let path = `/search/${this.state.searchtext}`\r\n    this.props.history.push(path)\r\n    e.target.reset()\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <form className=\"search-form\" onSubmit={this.handleSearchSubmit}>\r\n          <input\r\n            onChange={this.onSearchChange}\r\n            type=\"search\"\r\n            name=\"search\"\r\n            placeholder=\"Search\"\r\n            required\r\n          />\r\n          <button type=\"submit\" className=\"search-button\">\r\n            <svg\r\n              fill=\"#fff\"\r\n              height=\"24\"\r\n              viewBox=\"0 0 23 23\"\r\n              width=\"24\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n            >\r\n              <path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\" />\r\n              <path d=\"M0 0h24v24H0z\" fill=\"none\" />\r\n            </svg>\r\n          </button>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(SearchForm)\r\n","import React from \"react\"\r\nimport { NavLink } from \"react-router-dom\"\r\n\r\nconst Nav = () => (\r\n  <nav className=\"main-nav\">\r\n    <ul>\r\n      <li>\r\n        <NavLink to=\"/moon\">Moon</NavLink>\r\n      </li>\r\n      <li>\r\n        <NavLink to=\"/forest\">Forest</NavLink>\r\n      </li>\r\n      <li>\r\n        <NavLink to=\"/bridge\">Bridge</NavLink>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n)\r\n\r\nexport default Nav\r\n","import React from \"react\"\r\n\r\nconst Photo = (props) => {\r\n  return (\r\n    <li>\r\n      <img\r\n        src={`https://live.staticflickr.com/${props.server}/${props.id}_${props.secret}_w.jpg`}\r\n        alt=\"\"\r\n      />\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default Photo\r\n","import React from \"react\"\r\n\r\nconst NoMatches = (props) => {\r\n  return (\r\n    <li className=\"not-found\">\r\n      <h3>No Results Found</h3>\r\n      <p>You search did not return any results. Please try again.</p>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default NoMatches\r\n","import React, { Component } from \"react\"\r\nimport Photo from \"./Photo\"\r\nimport NoMatches from \"./NoMatches\"\r\n\r\nclass PhotoContainer extends Component {\r\n  // Fetch data from flickr API using via URL parameter\r\n  componentDidMount() {\r\n    if (this.props.query && this.props.query !== this.props.searchValue) {\r\n      this.props.fetchData(this.props.query, true)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const results = this.props.data\r\n    const photos = results.map((photo) => (\r\n      <Photo\r\n        server={photo.server}\r\n        secret={photo.secret}\r\n        id={photo.id}\r\n        key={photo.id}\r\n        title={photo.title}\r\n      />\r\n    ))\r\n\r\n    if (results.length === 0) {\r\n      return <NoMatches />\r\n    } else {\r\n      return (\r\n        <div className=\"photo-container\">\r\n          <h2>\r\n            {this.props.category\r\n              ? `Results for: ${this.props.category}`\r\n              : `Results for: ${this.props.query}`}\r\n          </h2>\r\n          <ul>{photos}</ul>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nexport default PhotoContainer\r\n","import React from \"react\"\r\n\r\nconst Error404 = (props) => {\r\n  return (\r\n    <li className=\"not-found\">\r\n      <h3>404 - Page Not Found</h3>\r\n      <p>\r\n        The URL you've selected does not exist! Please use the search to find\r\n        more pictures or click the buttons above. Thank you!\r\n      </p>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default Error404\r\n","// React libraries and components\nimport React, { Component } from \"react\"\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  Redirect,\n} from \"react-router-dom\"\nimport axios from \"axios\"\n// API key\nimport apiKey from \"./config\"\n// App Components\nimport SearchForm from \"./components/SearchForm\"\nimport Nav from \"./components/Nav\"\nimport PhotoContainer from \"./components/PhotoContainer\"\nimport Error404 from \"./components/Error404\"\n\nclass App extends Component {\n  constructor() {\n    super()\n    this.state = {\n      photos: [],\n      moon: [],\n      forest: [],\n      bridge: [],\n      searchInput: \"\",\n      loading: true,\n    }\n  }\n\n  // Load default pictures from Flickr API\n  componentDidMount() {\n    const defaultLinks = [\"moon\", \"forest\", \"bridge\"]\n    defaultLinks.map((link) => this.performSearch(link, false))\n  }\n\n  // Fetch data from Flickr API using default or search input\n  performSearch = (query, isNewData) => {\n    this.setState({ loading: true })\n    const api_key = apiKey\n    axios\n      .get(\n        `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=${api_key}&tags=${query}&per_page=24&format=json&nojsoncallback=1`\n      )\n      .then((response) => {\n        isNewData\n          ? this.setState({\n              photos: response.data.photos.photo,\n              searchInput: query,\n              loading: false,\n            })\n          : this.setState({\n              [query]: response.data.photos.photo,\n              loading: false,\n            })\n      })\n      .catch((error) => {\n        console.error(\"Error fetching and parsing data\", error)\n      })\n  }\n\n  render() {\n    return (\n      <Router>\n        <div className=\"container wrapper\">\n          <SearchForm onSearch={this.performSearch} />\n          <Nav />\n\n          {this.state.moon.length *\n            this.state.forest.length *\n            this.state.bridge.length ===\n            0 || this.state.loading ? (\n            <h1>Loading...</h1>\n          ) : (\n            <Switch>\n              <Route exact path=\"/\" render={() => <Redirect to=\"/moon\" />} />\n              <Route\n                path=\"/moon\"\n                render={() => (\n                  <PhotoContainer category=\"moon\" data={this.state.moon} />\n                )}\n              />\n              <Route\n                path=\"/forest\"\n                render={() => (\n                  <PhotoContainer category=\"forest\" data={this.state.forest} />\n                )}\n              />\n              <Route\n                path=\"/bridge\"\n                render={() => (\n                  <PhotoContainer category=\"bridge\" data={this.state.bridge} />\n                )}\n              />\n              <Route\n                path=\"/search/:query\"\n                render={({ match }) => (\n                  <PhotoContainer\n                    query={match.params.query}\n                    data={this.state.photos}\n                    searchValue={this.state.searchInput}\n                    fetchData={this.performSearch}\n                    category=\"\"\n                  />\n                )}\n              />\n              <Route component={Error404} />\n            </Switch>\n          )}\n        </div>\n      </Router>\n    )\n  }\n}\n\nexport default App\n","const apiKey = \"51e66916ccb67c27136e80d2e4a6b29b\"\r\n// const secret = \"2cd679426d335bf9\"\r\n\r\n// why am I forced to use a default instead of named export\r\nexport default apiKey\r\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport App from \"./App\"\n\n// CSS styling\nimport \"./index.css\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"],"sourceRoot":""}